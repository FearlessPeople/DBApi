import{d as x,c as T,D as _,E as f,H as s,aJ as o,aI as a,aL as z,aK as H,b4 as J,aF as K,aO as d,b5 as X,j as S,r as G,o as Y,u as P,aN as B,aW as A,b6 as Z,b7 as ee,b8 as oe,b9 as se,ba as ae,bb as ne,aX as te,bc as re,bd as le,be as E,bf as D}from"./arco.ec9395ed.js";import{F as ce}from"./index.42341cb4.js";import{v as M,_ as V,u as ue,g as ie,I as de,a as _e,b as me}from"./index.959f545d.js";/* empty css              *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{f as ge,g as pe}from"./vue.ec003c39.js";import{u as fe}from"./loading.0c4c157b.js";import"./chart.2a47e1e9.js";const F="/assets/login-banner.426fb77f.png",be={class:"banner"},he={class:"banner-inner"},ve={class:"carousel-title"},we={class:"carousel-sub-title"},Ce=["src"],ye=x({__name:"banner",setup(t){const{t:r}=M.exports.useI18n(),b=T(()=>[{slogan:r("login.banner.slogan1"),subSlogan:r("login.banner.subSlogan1"),image:F},{slogan:r("login.banner.slogan2"),subSlogan:r("login.banner.subSlogan2"),image:F},{slogan:r("login.banner.slogan3"),subSlogan:r("login.banner.subSlogan3"),image:F}]);return(w,C)=>{const h=X,y=J;return _(),f("div",be,[s("div",he,[o(y,{class:"carousel","animation-name":"fade"},{default:a(()=>[(_(!0),f(z,null,H(b.value,l=>(_(),K(h,{key:l.slogan},{default:a(()=>[(_(),f("div",{key:l.slogan,class:"carousel-item"},[s("div",ve,d(l.slogan),1),s("div",we,d(l.subSlogan),1),s("img",{class:"carousel-image",src:l.image},null,8,Ce)]))]),_:2},1024))),128))]),_:1})])])}}});const Ie=V(ye,[["__scopeId","data-v-2ce84fe6"]]),ke=t=>(E("data-v-79dbafbb"),t=t(),D(),t),$e={class:"login-form-wrapper"},Se={class:"login-form-title"},Be=ke(()=>s("div",{class:"login-form-sub-title"},"\u4E00\u4E2A\u5FEB\u901F\u5C06SQL\u8F6C\u6362\u4E3AAPI\u63A5\u53E3\u7684\u5E73\u53F0",-1)),Fe={class:"login-form-error-msg"},xe=["src"],Ve={class:"login-form-password-actions"},Le=x({__name:"login-form",setup(t){const r=ge(),{t:b}=M.exports.useI18n(),w=S(""),{loading:C,setLoading:h}=fe(),y=ue(),l=S(""),L=S(""),I=async()=>{try{const e=await ie(),n=new Blob([e.data],{type:"image/png"});l.value=URL.createObjectURL(n),L.value=e.headers.codeid}catch(e){console.error("\u83B7\u53D6\u9A8C\u8BC1\u7801\u5931\u8D25",e)}},c=pe("login-config",{rememberPassword:!0,username:"admin",password:"admin",checkCode:""}),u=G({username:c.value.username,password:c.value.password,checkCode:c.value.checkCode}),U=async({errors:e,values:n})=>{if(!C.value&&!e){h(!0);try{const m={...n,codeId:L.value};await y.login(m);const{redirect:i,...g}=r.currentRoute.value.query;r.push({name:i||"Workplace",query:{...g}}),A.success(b("login.form.login.success"));const{rememberPassword:v}=c.value,{username:k,password:$}=n;c.value.username=v?k:"",c.value.password=v?$:""}catch(m){const i=m.message||"\u767B\u5F55\u5931\u8D25";w.value=i,A.error(i),I()}finally{h(!1)}}};Y(()=>{I()});const N=e=>{c.value.rememberPassword=e};return(e,n)=>{const m=de,i=Z,g=ee,v=_e,k=oe,$=me,q=se,R=ae,j=ne,W=te,O=re,Q=le;return _(),f("div",$e,[s("div",Se,d(e.$t("login.form.title")),1),Be,s("div",Fe,d(w.value),1),o(Q,{ref:"loginForm",model:u,class:"login-form",layout:"vertical",onSubmit:U},{default:a(()=>[o(g,{field:"username",rules:[{required:!0,message:e.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[o(i,{modelValue:u.username,"onUpdate:modelValue":n[0]||(n[0]=p=>u.username=p),placeholder:e.$t("login.form.userName.placeholder")},{prefix:a(()=>[o(m)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(g,{field:"password",rules:[{required:!0,message:e.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[o(k,{modelValue:u.password,"onUpdate:modelValue":n[1]||(n[1]=p=>u.password=p),placeholder:e.$t("login.form.password.placeholder"),"allow-clear":""},{prefix:a(()=>[o(v)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(g,{class:"login-form-check",field:"checkCode",rules:[{required:!0,length:5,message:e.$t("login.form.checkCode.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:a(()=>[o(i,{minWidth:"100%",modelValue:u.checkCode,"onUpdate:modelValue":n[2]||(n[2]=p=>u.checkCode=p),placeholder:e.$t("login.form.checkCode.placeholder")},{prefix:a(()=>[o($)]),_:1},8,["modelValue","placeholder"]),s("div",null,[o(q,{content:"\u70B9\u51FB\u66F4\u65B0\u9A8C\u8BC1\u7801"},{default:a(()=>[s("img",{width:"100",height:"30",src:l.value,alt:"\u70B9\u51FB\u66F4\u65B0\u9A8C\u8BC1\u7801",onClick:I},null,8,xe)]),_:1})])]),_:1},8,["rules"]),o(O,{size:16,direction:"vertical"},{default:a(()=>[s("div",Ve,[o(R,{checked:"rememberPassword","model-value":P(c).rememberPassword,onChange:N},{default:a(()=>[B(d(e.$t("login.form.rememberPassword")),1)]),_:1},8,["model-value","onChange"]),o(j,null,{default:a(()=>[B(d(e.$t("login.form.forgetPassword")),1)]),_:1})]),o(W,{type:"primary","html-type":"submit",long:"",loading:P(C)},{default:a(()=>[B(d(e.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}});const Pe=V(Le,[["__scopeId","data-v-79dbafbb"]]),Ae=t=>(E("data-v-ae25fc42"),t=t(),D(),t),Ee={class:"container"},De=Ae(()=>s("div",{class:"logo"},[s("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"}),s("div",{class:"logo-text"},"DBApi")],-1)),Me={class:"content"},Ue={class:"content-inner"},Ne={class:"footer"},qe=x({__name:"index",setup(t){return(r,b)=>(_(),f("div",Ee,[De,o(Ie),s("div",Me,[s("div",Ue,[o(Pe)]),s("div",Ne,[o(ce)])])]))}});const Ge=V(qe,[["__scopeId","data-v-ae25fc42"]]);export{Ge as default};
